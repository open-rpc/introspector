(this["webpackJsonp@open-rpc/logs-react"]=this["webpackJsonp@open-rpc/logs-react"]||[]).push([[1],{323:function(e,t,a){e.exports=a(417)},330:function(e,t,a){},405:function(e,t,a){},414:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(72),r=a.n(n),o=a(2),i=a.n(o),c=a(99),l=a(451),s=a(468),p=a(224),m=a(222),d=a(250),u=a.n(d),f=Object(m.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiAppBar:{root:{background:"#fff !important"}}},palette:{background:{default:"#fff"}}}),h=Object(m.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},palette:{type:"dark",background:{default:u.a[900],paper:u.a[800]},primary:{main:"#fff"}},overrides:{MuiAppBar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:u.a[50]}}}}),g=(a(330),a(209)),y=a(469),b=a(470),j=a(476),v=a(453),O=a(454),E=a(455),w=a(151),D=a(478),S=a(456),k=a(475),x=a(457),N=a(479),C=a(423),q=a(459),R=a(298),M=a(305),P=a(307),J=a.n(P),L=a(310),B=a.n(L),I=a(312),A=a.n(I),T=(a(405),a(471)),F=function(e){return i.a.createElement(T.a,Object.assign({elevation:6,variant:"filled"},e))},H=a(308),V=a.n(H),W=a(309),z=a(211),U=a(129),G={type:"object",properties:{jsonrpc:{type:"string",enum:["2.0"],description:"JSON-RPC version string"},id:{description:"unique identifier for the JSON-RPC request",oneOf:[{type:"string"},{type:"number"}]},method:{type:"string"}}},K=function(e){return e?{type:"object",properties:{id:Object(U.a)({},G.properties.id),jsonrpc:Object(U.a)({},G.properties.jsonrpc),method:{type:"string",oneOf:e&&e.methods&&e.methods.map((function(e){return{const:e.name,description:e.description||e.summary,markdownDescription:e.description||e.summary}}))}},allOf:e&&e.methods&&e.methods.map((function(e){return{if:{properties:{method:{const:e.name}}},then:{properties:{params:{oneOf:[{type:"array",minItems:e.params&&e.params.filter((function(e){return e.required})).length,maxItems:e.params&&e.params.length,defaultSnippets:e.examples?e.examples.map((function(e){return{label:e.name,description:e.description||e.summary,body:e.params&&e.params.map((function(e){return e.value}))}})):[],items:e.params&&e.params.map((function(e){return Object(U.a)(Object(U.a)({},e.schema),{},{markdownDescription:e.description||e.summary,description:e.description||e.summary,additionalProperties:!1})}))},{type:"object",properties:e.params&&e.params.reduce((function(e,t){return e[t.name]=Object(U.a)(Object(U.a)({},t.schema),{},{markdownDescription:t.description||t.summary,description:t.description||t.summary,additionalProperties:!1}),e}),{})}]}}}}}))}:G},Q={type:"object",properties:{jsonrpc:{type:"string",description:"JSON-RPC Version String",const:"2.0"},id:{oneOf:[{type:"string"},{type:"number"}]}}},X=function(e,t){if(!t)return Q;var a,n=t.methods.find((function(t){return t.name===e}));return void 0!==n&&void 0!==n.result&&(a=n.result.schema),{type:"object",properties:{id:Object(U.a)({},Q.properties.id),jsonrpc:Object(U.a)({},Q.properties.jsonrpc),result:Object(U.a)(Object(U.a)({},a),{},{markdownDescription:(null===n||void 0===n?void 0:n.description)||(null===n||void 0===n?void 0:n.summary),description:(null===n||void 0===n?void 0:n.description)||(null===n||void 0===n?void 0:n.summary)})}}},Y={request:"primary",response:"secondary"},Z=Object(R.a)((function(e){return Object(M.a)({cardHeader:{padding:"8px",paddingBottom:"0px",paddingTop:"0px"},cardContent:{padding:"8px !important"}})})),$=i.a.memo((function(e){var t,a=Object(p.a)(),n=((t=e.log).method.includes("rpc.")?"call rpc-call":"response"===t.type?t.payload.error?"call response-error":"call response-success":"call request")+" ".concat(a.value?"dark":""),r=Object(o.useState)(!1),l=Object(c.a)(r,2),s=l[0],m=l[1],d=Object(o.useState)(),u=Object(c.a)(d,2),f=u[0],h=u[1],g=Z();Object(o.useEffect)((function(){if(void 0!==f){var t;t="request"===e.log.type?K(e.openrpcDocument):X(e.log.method,e.openrpcDocument);var a=e.openrpcDocument&&e.openrpcDocument.info?e.openrpcDocument.info.title:"inspector",n="inmemory://".concat(a,"-").concat(Math.random(),".json"),r=z.Uri.parse(n),o=z.editor.createModel(JSON.stringify(e.log.payload,null,2)||"","json",r);f.setModel(o),Object(W.addDiagnostics)(r.toString(),t,z)}}),[e.openrpcDocument,f]);return i.a.createElement(b.a,{m:2,key:JSON.stringify(e.log),className:["call-box","".concat("response"===e.log.type?"response":""),"".concat(e.filter.includes(e.log.method)||e.filter.includes("all")?"":"hidden")].join(" ")},i.a.createElement(j.a,{open:s,autoHideDuration:4e3,onClose:function(){m(!1)}},i.a.createElement(F,{severity:"success"},"Payload Copied to Clipboard")),i.a.createElement(v.a,{raised:!0,className:n,style:{color:"white"},elevation:8},i.a.createElement(O.a,{style:{padding:0},title:i.a.createElement(E.a,{container:!0,justify:"space-between",alignItems:"flex-start",direction:"row",className:g.cardHeader},i.a.createElement(E.a,{item:!0},i.a.createElement(w.a,{color:Y[e.log.type]},e.log.method)),i.a.createElement(E.a,{item:!0},i.a.createElement(D.a,{label:e.log.type,color:Y[e.log.type]}))),subheader:i.a.createElement(w.a,{gutterBottom:!0,color:"textSecondary",className:g.cardHeader},Object(y.a)(new Date,e.log.timestamp))}),i.a.createElement(S.a,{className:g.cardContent},e.log.batchId?i.a.createElement(w.a,null,"Batch: ",e.log.batchId):null,i.a.createElement(k.a,{defaultExpanded:e.open,TransitionProps:{unmountOnExit:!0}},i.a.createElement(x.a,{expandIcon:i.a.createElement(B.a,null)},i.a.createElement(w.a,null,"Payload"),i.a.createElement(N.a,{title:"Copy to clipboard"},i.a.createElement(C.a,{style:{padding:"4px"},onClick:function(t){return function(e,t){e.stopPropagation(),m(!0),V()(JSON.stringify(t,null,4))}(t,e.log.payload)}},i.a.createElement(A.a,{style:{fontSize:14}})))),i.a.createElement(q.a,{style:{margin:0,padding:0}},i.a.createElement(J.a,{width:"100%",height:"250px",language:"json",value:JSON.stringify(e.log.payload,null,4),editorDidMount:function(e,t){h(t)},editorOptions:{automaticLayout:!0,useShadows:!1,glyphMargin:!1,showFoldingControls:"always",lineDecorationsWidth:0,lineNumbersMinChars:0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"off",fixedOverflowWidgets:!0,readOnly:!0}}))))))})),_=(a(414),function(e){return i.a.createElement(i.a.Fragment,null,e.logs.map((function(t,a){return e.logs.length-1===a?i.a.createElement($,{openrpcDocument:e.openrpcDocument,log:t,filter:e.filter,open:!0}):i.a.createElement($,{openrpcDocument:e.openrpcDocument,log:t,filter:e.filter,open:!1})})))}),ee=a(25),te=a(150),ae=a(180),ne=a(472),re=a(460),oe=a(461),ie=a(462),ce=a(463),le=a(464),se=a(473),pe=a(422),me=a(480),de=a(465),ue=a(466),fe=a(474),he=a(467),ge=a(313),ye=a.n(ge),be=a(247),je=a.n(be),ve=a(248),Oe=a.n(ve),Ee=Object(R.a)((function(e){return Object(M.a)({modal:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:400,padding:"4 8 6"},drawer:{overflow:"hidden",width:200,flexShrink:0},drawerHeader:{display:"flex",alignItems:"center",justifyContent:"space-between"},drawerPaper:{width:200,position:"static"}})})),we=function(e,t){var a,n=Object(ae.a)(e);try{var r=function(){var e=a.value;if(t.length===e.length&&t.every((function(t){return e.includes(t)})))return{v:!0}};for(n.s();!(a=n.n()).done;){var o=r();if("object"===typeof o)return o.v}}catch(i){n.e(i)}finally{n.f()}return!1},De=function(e){var t=Object(o.useState)([]),a=Object(c.a)(t,2),n=a[0],r=a[1],l=Object(o.useState)([]),s=Object(c.a)(l,2),p=s[0],m=s[1],d=function(e){var t,a=[],n=Object(ae.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;we(a,[r.method])||a.push([r.method])}}catch(o){n.e(o)}finally{n.f()}return a}(e.logs),u=Object(o.useState)(!1),f=Object(c.a)(u,2),h=f[0],g=f[1],y=Ee(),b=[["all"]].concat(Object(te.a)(d),Object(te.a)(n)),j=function(e,t){if(t)return m((function(t){return[].concat(Object(te.a)(t),[e.target.value])}));var a=Object(te.a)(p),n=a.indexOf(e.target.value);return n>-1?(a.splice(n,1),m(Object(te.a)(a))):void 0};return i.a.createElement("div",null,i.a.createElement(ne.a,{className:y.drawer,variant:"persistent",anchor:e.alignment,open:e.isDrawerOpen,classes:{paper:y.drawerPaper}},i.a.createElement("div",{className:y.drawerHeader},i.a.createElement(w.a,{style:{paddingLeft:"15px",userSelect:"none"},color:"primary"},"Filter"),i.a.createElement(C.a,{onClick:e.closeDrawer},"left"===e.alignment?i.a.createElement(je.a,null):i.a.createElement(Oe.a,null))),i.a.createElement(re.a,null),i.a.createElement(oe.a,null,b.map((function(t){return i.a.createElement(ie.a,{button:!0,key:t.join(" "),onClick:function(){return e.select(t)},selected:e.active.join("")===t.join("")},i.a.createElement(ce.a,null,t.join(", ")))})),i.a.createElement("div",{style:d.length>2?{}:{display:"none"}},i.a.createElement(ie.a,{button:!0,onClick:function(){g(!0)}},i.a.createElement(le.a,null,i.a.createElement(ye.a,null)),i.a.createElement(ce.a,null,"add new filter"))))),i.a.createElement(se.a,{open:h,onClose:function(){g(!1),m([])},"aria-labelledby":"modal-label"},i.a.createElement(pe.a,{className:y.modal},i.a.createElement(me.a,null,i.a.createElement("h2",{id:"modal-label"},"Select methods you wish to filter by"),i.a.createElement(de.a,null,d.map((function(e){return i.a.createElement(ue.a,{control:i.a.createElement(fe.a,{value:e,key:e.toString(),onChange:j,checked:p.includes(e[0])}),label:e.join(" ")})}))),i.a.createElement(he.a,{variant:"contained",onClick:function(e){if(g(!1),m([]),!we(n,p))return r([].concat(Object(te.a)(n),[p]))}},"Submit")))))},Se=Object(R.a)((function(e){return Object(M.a)({logsReact:{display:"flex",width:"100%",height:"100%"},extendDiv:{width:"25px"},hide:{display:"none"},menuButton:{paddingLeft:0,paddingRight:0,marginLeft:0,marginRight:0},content:{width:"100%",height:"auto",overflow:"auto",transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},left:{marginLeft:-200},right:{marginRight:-200},contentShift:{width:"calc(100% - ".concat(200,"px)"),transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0,marginRight:0}})})),ke=function(e){var t=Object(o.useRef)(null),a=Object(o.useState)(["all"]),n=Object(c.a)(a,2),r=n[0],l=n[1],s=Object(o.useState)(void 0===e.sidebarOpen||e.sidebarOpen),p=Object(c.a)(s,2),m=p[0],d=p[1],u=void 0!==e.sidebarAlign?e.sidebarAlign:"left",f=void 0!==e.openRecentPayload&&e.openRecentPayload,h=Se(),y=function(e){l(e)},b=function(){d(!0)},j=function(){d(!1)},v=function(){t&&null!==t.current&&t.current.scrollIntoView({behavior:"smooth"})};return Object(o.useLayoutEffect)(v,[e.logs]),Object(o.useLayoutEffect)(v,[]),i.a.createElement(i.a.Fragment,null,"left"===u?i.a.createElement("div",{className:h.logsReact},i.a.createElement("div",{className:Object(ee.a)(h.extendDiv,m&&h.hide)},i.a.createElement(C.a,{"aria-label":"open filters",onClick:b,className:h.menuButton},i.a.createElement(Oe.a,null))),i.a.createElement(De,{logs:e.logs,alignment:u,active:r,select:y,isDrawerOpen:m,closeDrawer:j}),i.a.createElement("div",{className:Object(ee.a)(h.content,h.left,Object(g.a)({},h.contentShift,m))},i.a.createElement(_,{logs:e.logs,filter:r,openRecentPayload:f}),i.a.createElement("div",{ref:t}))):i.a.createElement("div",{className:h.logsReact},i.a.createElement("div",{className:Object(ee.a)(h.content,h.right,Object(g.a)({},h.contentShift,m))},i.a.createElement(_,{logs:e.logs,filter:r,openRecentPayload:f,openrpcDocument:e.openrpcDocument}),i.a.createElement("div",{ref:t})),i.a.createElement(De,{logs:e.logs,alignment:u,active:r,select:y,isDrawerOpen:m,closeDrawer:j}),i.a.createElement("div",{className:Object(ee.a)(h.extendDiv,m&&h.hide)},i.a.createElement(C.a,{"aria-label":"open filters",onClick:b,className:h.menuButton},i.a.createElement(je.a,null)))))},xe=0,Ne=function(e){try{var t=JSON.parse(e);if(t){if(t.length>0){var a,n=Object(ae.a)(t);try{for(n.s();!(a=n.n()).done;){if(!("jsonrpc"in a.value))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}return"jsonrpc"in t}return!1}catch(o){return!1}},Ce=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1],r=function(e){var t,a=null===(t=e.request.postData)||void 0===t?void 0:t.text;e.getContent((function(t){if(e.request&&e.request.url&&a&&Ne(a)&&Ne(t)){var r=JSON.parse(a),o=[],i=[];if(r.length){var l,s=Object(ae.a)(r);try{for(s.s();!(l=s.n()).done;){var p=Object(c.a)(l.value,1)[0];o.push({type:"request",method:p.method,timestamp:new Date(e.startedDateTime),payload:p,batchId:xe})}}catch(b){s.e(b)}finally{s.f()}xe+=1}else o.push({type:"request",method:r.method,timestamp:new Date(e.startedDateTime),payload:r});var m=new Date(e.startedDateTime),d=JSON.parse(t);if(m.setMilliseconds(m.getMilliseconds()+e.time),d.length){var u,f=Object(ae.a)(d);try{for(f.s();!(u=f.n()).done;){var h=Object(c.a)(u.value,2),g=h[0],y=h[1];i.push({type:"response",method:r[g].method,timestamp:m,payload:y,batchId:xe})}}catch(b){f.e(b)}finally{f.f()}xe+=1}else i.push({type:"response",method:r.method,timestamp:m,payload:d});n((function(e){return[].concat(Object(te.a)(e),o,i)}))}}))};return Object(o.useEffect)((function(){return chrome&&chrome.webRequest&&chrome.devtools.network.onRequestFinished.addListener(r),function(){chrome&&chrome.webRequest&&chrome.devtools.network.onRequestFinished.removeListener(r)}}),[]),[a,n]},qe=function(){var e=Object(p.a)(),t=Ce(),a=Object(c.a)(t,2),n=a[0],r=a[1],m=e.value?h:f;return Object(o.useEffect)((function(){if(chrome&&chrome.devtools&&chrome.devtools.panels)chrome.devtools.panels.create("JSONRPCLogger","","index.html",(function(e){}));else{var e=[{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"response",method:"foo",payload:{jsonrpc:"2.0",error:{code:1234,message:"potato"}}},{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"response",method:"foo",payload:{jsonrpc:"2.0",result:"bar"}},{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"request",method:"potato",payload:{jsonrpc:"2.0",method:"potato"}},{timestamp:new Date,type:"request",method:"potato2",payload:{jsonrpc:"2.0",method:"potato2"}}];r(e)}}),[]),i.a.createElement(l.a,{theme:m},i.a.createElement("div",null,i.a.createElement(s.a,null),i.a.createElement(ke,{logs:n,sidebarAlign:"right",openrpcDocument:{methods:[{name:"foo",description:"potato"}]}})))};r.a.render(i.a.createElement(qe,null),document.getElementById("root"))}},[[323,2,3]]]);