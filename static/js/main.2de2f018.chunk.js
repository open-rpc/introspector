(this["webpackJsonp@open-rpc/logs-react"]=this["webpackJsonp@open-rpc/logs-react"]||[]).push([[1],{320:function(e,t,a){e.exports=a(415)},327:function(e,t,a){},403:function(e,t,a){},412:function(e,t,a){},415:function(e,t,a){"use strict";a.r(t);var n=a(72),r=a.n(n),o=a(2),l=a.n(o),c=a(105),i=a(449),s=a(466),d=a(221),u=a(219),m=a(247),p=a.n(m),f=Object(u.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiAppBar:{root:{background:"#fff !important"}}},palette:{background:{default:"#fff"}}}),g=Object(u.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},palette:{type:"dark",background:{default:p.a[900],paper:p.a[800]},primary:{main:"#fff"}},overrides:{MuiAppBar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:p.a[50]}}}}),h=(a(327),a(291)),b=a(467),y=a(468),v=a(473),E=a(451),O=a(452),j=a(453),w=a(150),x=a(478),k=a(454),D=a(474),S=a(455),N=a(476),C=a(421),R=a(457),q=a(296),B=a(303),M=a(305),P=a.n(M),J=a(307),L=a.n(J),I=a(309),A=a.n(I),T=(a(403),a(469)),H=function(e){return l.a.createElement(T.a,Object.assign({elevation:6,variant:"filled"},e))},F=a(306),z=a.n(F),W={request:"primary",response:"secondary"},G=Object(q.a)((function(e){return Object(B.a)({cardHeader:{padding:"0 8px 0 8px"},cardContent:{padding:"0 8px 0 8px"}})})),K=l.a.memo((function(e){var t,a=Object(d.a)(),n=((t=e.log).method.includes("rpc.")?"call rpc-call":"response"===t.type?t.payload.error?"call response-error":"call response-success":"call request")+" ".concat(a.value?"dark":""),r=Object(o.useState)(!1),i=Object(c.a)(r,2),s=i[0],u=i[1],m=G();return l.a.createElement(y.a,{m:2,key:JSON.stringify(e.log),className:["call-box","".concat("response"===e.log.type?"response":""),"".concat(e.filter.includes(e.log.method)||e.filter.includes("all")?"":"hidden")].join(" ")},l.a.createElement(v.a,{open:s,autoHideDuration:4e3,onClose:function(){u(!1)}},l.a.createElement(H,{severity:"success"},"Payload Copied to Clipboard")),l.a.createElement(E.a,{raised:!0,className:n,style:{color:"white"}},l.a.createElement(O.a,{className:m.cardHeader,title:l.a.createElement(j.a,{container:!0,justify:"space-between",alignItems:"center",direction:"row"},l.a.createElement(j.a,{item:!0},l.a.createElement(w.a,{color:W[e.log.type]},e.log.method)),l.a.createElement(j.a,{item:!0},l.a.createElement(x.a,{label:e.log.type,color:W[e.log.type]}))),subheader:l.a.createElement(w.a,{gutterBottom:!0,color:"textSecondary"},Object(b.a)(new Date,e.log.timestamp))}),l.a.createElement(k.a,{className:m.cardContent},e.log.batchId?l.a.createElement(w.a,null,"Batch: ",e.log.batchId):null,l.a.createElement(D.a,{defaultExpanded:e.open,TransitionProps:{unmountOnExit:!0}},l.a.createElement(S.a,{expandIcon:l.a.createElement(L.a,null)},l.a.createElement(w.a,null,"Payload"),l.a.createElement(N.a,{title:"Copy to clipboard"},l.a.createElement(C.a,{style:{padding:"4px"},onClick:function(t){return function(e,t){e.stopPropagation(),u(!0),z()(JSON.stringify(t,null,4))}(t,e.log.payload)}},l.a.createElement(A.a,{style:{fontSize:14}})))),l.a.createElement(R.a,null,l.a.createElement(P.a,{width:"350px",height:"350px",language:"json",value:JSON.stringify(e.log.payload,null,4),editorDidMount:function(e,t){},editorOptions:{minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",fixedOverflowWidgets:!0,readOnly:!0}}))))))})),Q=(a(412),function(e){return l.a.createElement(l.a.Fragment,null,e.logs.map((function(t,a){return e.logs.length-1===a?l.a.createElement(K,{log:t,filter:e.filter,open:!0}):l.a.createElement(K,{log:t,filter:e.filter,open:!1})})))}),U=a(25),V=a(149),X=a(179),Y=a(471),Z=a(458),$=a(459),_=a(460),ee=a(461),te=a(462),ae=a(472),ne=a(420),re=a(477),oe=a(463),le=a(464),ce=a(470),ie=a(465),se=a(310),de=a.n(se),ue=a(244),me=a.n(ue),pe=a(245),fe=a.n(pe),ge=Object(q.a)((function(e){return Object(B.a)({modal:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:400,padding:"4 8 6"},drawer:{overflow:"hidden",width:200,flexShrink:0},drawerHeader:{display:"flex",alignItems:"center",justifyContent:"flex-end"},drawerPaper:{width:200,position:"static"}})})),he=function(e,t){var a,n=Object(X.a)(e);try{var r=function(){var e=a.value;if(t.length===e.length&&t.every((function(t){return e.includes(t)})))return{v:!0}};for(n.s();!(a=n.n()).done;){var o=r();if("object"===typeof o)return o.v}}catch(l){n.e(l)}finally{n.f()}return!1},be=function(e){var t=Object(o.useState)([]),a=Object(c.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),s=Object(c.a)(i,2),d=s[0],u=s[1],m=function(e){var t,a=[],n=Object(X.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;he(a,[r.method])||a.push([r.method])}}catch(o){n.e(o)}finally{n.f()}return a}(e.logs),p=Object(o.useState)(!1),f=Object(c.a)(p,2),g=f[0],h=f[1],b=ge(),y=[["all"]].concat(Object(V.a)(m),Object(V.a)(n)),v=function(e,t){if(t)return u((function(t){return[].concat(Object(V.a)(t),[e.target.value])}));var a=Object(V.a)(d),n=a.indexOf(e.target.value);return n>-1?(a.splice(n,1),u(Object(V.a)(a))):void 0};return l.a.createElement("div",null,l.a.createElement(Y.a,{className:b.drawer,variant:"persistent",anchor:e.alignment,open:e.isDrawerOpen,classes:{paper:b.drawerPaper}},l.a.createElement("div",{className:b.drawerHeader},l.a.createElement(C.a,{onClick:e.closeDrawer},"left"===e.alignment?l.a.createElement(me.a,null):l.a.createElement(fe.a,null))),l.a.createElement(Z.a,null),l.a.createElement($.a,null,y.map((function(t){return l.a.createElement(_.a,{button:!0,key:t.join(" "),onClick:function(){return e.select(t)}},l.a.createElement(ee.a,null,t.join(", ")))})),l.a.createElement("div",{style:m.length>2?{}:{display:"none"}},l.a.createElement(_.a,{button:!0,onClick:function(){h(!0)}},l.a.createElement(te.a,null,l.a.createElement(de.a,null)),l.a.createElement(ee.a,null,"add new filter"))))),l.a.createElement(ae.a,{open:g,onClose:function(){h(!1),u([])},"aria-labelledby":"modal-label"},l.a.createElement(ne.a,{className:b.modal},l.a.createElement(re.a,null,l.a.createElement("h2",{id:"modal-label"},"Select methods you wish to filter by"),l.a.createElement(oe.a,null,m.map((function(e){return l.a.createElement(le.a,{control:l.a.createElement(ce.a,{value:e,key:e.toString(),onChange:v,checked:d.includes(e[0])}),label:e.join(" ")})}))),l.a.createElement(ie.a,{variant:"contained",onClick:function(e){if(h(!1),u([]),!he(n,d))return r([].concat(Object(V.a)(n),[d]))}},"Submit")))))},ye=Object(q.a)((function(e){return Object(B.a)({logsReact:{display:"flex",width:"100%",height:"100%"},extendDiv:{width:"25px"},hide:{display:"none"},menuButton:{paddingLeft:0,paddingRight:0,marginLeft:0,marginRight:0},content:{width:"100%",height:"auto",overflow:"auto",transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},left:{marginLeft:-200},right:{marginRight:-200},contentShift:{width:"calc(100% - ".concat(200,"px)"),transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0,marginRight:0}})})),ve=function(e){var t=Object(o.useState)(["all"]),a=Object(c.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(void 0===e.sidebarOpen||e.sidebarOpen),s=Object(c.a)(i,2),d=s[0],u=s[1],m=void 0!==e.sidebarAlign?e.sidebarAlign:"left",p=void 0!==e.openRecentPayload&&e.openRecentPayload,f=ye(),g=function(e){r(e)},b=function(){u(!0)},y=function(){u(!1)};return l.a.createElement(l.a.Fragment,null,"left"===m?l.a.createElement("div",{className:f.logsReact},l.a.createElement("div",{className:Object(U.a)(f.extendDiv,d&&f.hide)},l.a.createElement(C.a,{"aria-label":"open filters",onClick:b,className:f.menuButton},l.a.createElement(fe.a,null))),l.a.createElement(be,{logs:e.logs,alignment:m,active:n,select:g,isDrawerOpen:d,closeDrawer:y}),l.a.createElement("div",{className:Object(U.a)(f.content,f.left,Object(h.a)({},f.contentShift,d))},l.a.createElement(Q,{logs:e.logs,filter:n,openRecentPayload:p}))):l.a.createElement("div",{className:f.logsReact},l.a.createElement("div",{className:Object(U.a)(f.content,f.right,Object(h.a)({},f.contentShift,d))},l.a.createElement(Q,{logs:e.logs,filter:n,openRecentPayload:p})),l.a.createElement(be,{logs:e.logs,alignment:m,active:n,select:g,isDrawerOpen:d,closeDrawer:y}),l.a.createElement("div",{className:Object(U.a)(f.extendDiv,d&&f.hide)},l.a.createElement(C.a,{"aria-label":"open filters",onClick:b,className:f.menuButton},l.a.createElement(me.a,null)))))},Ee=0,Oe=function(e){try{var t=JSON.parse(e);if(t){if(t.length>0){var a,n=Object(X.a)(t);try{for(n.s();!(a=n.n()).done;){if(!("jsonrpc"in a.value))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}return"jsonrpc"in t}return!1}catch(o){return!1}},je=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1],r=function(e){var t,a=null===(t=e.request.postData)||void 0===t?void 0:t.text;e.getContent((function(t){if(e.request&&e.request.url&&a&&Oe(a)&&Oe(t)){var r=JSON.parse(a),o=[],l=[];if(r.length){var i,s=Object(X.a)(r);try{for(s.s();!(i=s.n()).done;){var d=Object(c.a)(i.value,1)[0];o.push({type:"request",method:d.method,timestamp:new Date(e.startedDateTime),payload:d,batchId:Ee})}}catch(y){s.e(y)}finally{s.f()}Ee+=1}else o.push({type:"request",method:r.method,timestamp:new Date(e.startedDateTime),payload:r});var u=new Date(e.startedDateTime),m=JSON.parse(t);if(u.setMilliseconds(u.getMilliseconds()+e.time),m.length){var p,f=Object(X.a)(m);try{for(f.s();!(p=f.n()).done;){var g=Object(c.a)(p.value,2),h=g[0],b=g[1];l.push({type:"response",method:r[h].method,timestamp:u,payload:b,batchId:Ee})}}catch(y){f.e(y)}finally{f.f()}Ee+=1}else l.push({type:"response",method:r.method,timestamp:u,payload:m});n((function(e){return[].concat(Object(V.a)(e),o,l)}))}}))};return Object(o.useEffect)((function(){return chrome&&chrome.webRequest&&chrome.devtools.network.onRequestFinished.addListener(r),function(){chrome.devtools.network.onRequestFinished.removeListener(r)}}),[]),[a,n]},we=function(){var e=Object(d.a)(),t=je(),a=Object(c.a)(t,2),n=a[0],r=a[1],u=e.value?g:f;return Object(o.useEffect)((function(){if(chrome&&chrome.devtools&&chrome.devtools.panels)chrome.devtools.panels.create("JSONRPCLogger","","index.html",(function(e){}));else{var e=[{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"response",method:"foo",payload:{jsonrpc:"2.0",error:{code:1234,message:"potato"}}},{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"response",method:"foo",payload:{jsonrpc:"2.0",result:"bar"}},{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}}];r(e)}}),[]),l.a.createElement(i.a,{theme:u},l.a.createElement("div",null,l.a.createElement(s.a,null),l.a.createElement(ve,{logs:n,sidebarAlign:"right"})))};r.a.render(l.a.createElement(we,null),document.getElementById("root"))}},[[320,2,3]]]);